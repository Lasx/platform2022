//工具栏
util.fixbar({
    bar1: '<li class="layui-icon" lay-type="bar1" id="utilbar1" style="margin:5px;border-radius:10px;background-color:#303336"><svg t="1647875024385" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="1299" width="50" height="50"><path d="M757.38001184 324.6231827s-233.72048645 0.23554596-220.82434471 0a114.82865927 114.82865927 0 0 1-25.67451048-2.56156241s-9.53961169-16.01712581-26.88168355-41.22054433C465.92132008 254.37159785 444.92828569 258.78808475 444.92828569 258.78808475l-178.30829753-4.4164869C217.39088091 254.37159785 217.56754038 304.51344571 217.56754038 304.51344571v414.06036797c0 51.05458849 49.05244777 51.05458849 49.05244778 51.05458847h490.73058042c42.75159314 0 49.08189103-46.84420432 49.08189104-46.84420432V371.49683028c0-42.89880936-49.05244777-46.87364756-49.05244778-46.87364758z m0 374.7536346c0 15.78157984-8.21466564 23.55459676-24.55566714 23.55459676H291.1756553c-16.34100151 0-24.55566713-7.62580071-24.55566714-23.55459676V394.90421081c0-15.81102308 8.21466564-23.40738054 24.55566714-23.40738054h441.6486894c16.34100151 0 24.55566713 7.59635746 24.55566714 23.40738055z" p-id="1300" fill="#ffffff"></path><path d="M484.08780284 448.78535092v195.50315318a28.38328911 28.38328911 0 0 0 27.91219716 28.79549454 28.38328911 28.38328911 0 0 0 27.82386744-28.85438103V448.78535092a28.47161885 28.47161885 0 0 0-27.91219719-28.85438104 28.38328911 28.38328911 0 0 0-27.82386742 28.85438104z" p-id="1301" fill="#ffffff"></path><path d="M609.72213336 518.5952871H414.27786664a27.91219716 27.91219716 0 1 0 1e-8 55.94216732h195.4442667a27.91219716 27.91219716 0 1 0 1e-8-55.94216732z" p-id="1302" fill="#ffffff"></path></svg></li>'
    , bar2: '<li class="layui-icon" lay-type="bar2" id="utilbar2" style="margin:5px;border-radius:5px;background-color:#303336"><svg t="1647875270425" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="1606" width="50" height="50"><path d="M760.86476358 360.19032252L508.64072429 214.62683927c-6.72144816-3.8699247-15.00444487-3.8699247-21.72589302 0L245.41795166 353.74044802c-6.78934157 3.80203128-10.93083994 10.99873334-10.99873333 18.73858275l-0.06789343 278.77036481c0 7.73984939 4.14149836 14.93655145 10.86294651 18.80647614L497.77777778 815.48356813v0.06789343c13.57868314-7.73984939 21.72589302-22.0653601 21.72589302-37.5450589l-0.06789343-252.97086685 219.7709866-127.16436758c13.37500289-7.8077428 21.6579996-22.13325352 21.65799961-37.68084571zM277.80311095 638.7570071V410.43145014l198.24877381 114.53619226v227.91819648L277.80311095 638.7570071z m219.83888-151.402317L299.80057764 372.75060441 497.77777778 258.55387923 695.75497792 372.81849784 497.64199095 487.3546901z" p-id="1607" fill="#ffffff"></path><path d="M780.21438705 620.62946511H693.31081497V533.72589302c0-12.01713458-9.70875845-21.72589302-21.72589302-21.72589302s-21.72589302 9.70875845-21.72589303 21.72589302v86.90357209H562.95545684c-12.01713458 0-21.72589302 9.70875845-21.72589302 21.72589301s9.70875845 21.72589302 21.72589302 21.72589302h86.90357208v86.90357208c0 12.01713458 9.70875845 21.72589302 21.72589303 21.72589303s21.72589302-9.70875845 21.72589302-21.72589303V664.08125114h86.90357208c12.01713458 0 21.72589302-9.70875845 21.72589302-21.72589302s-9.70875845-21.72589302-21.72589302-21.72589301z" p-id="1608" fill="#ffffff"></path></svg></li>'
    , bar3: '<li class="layui-icon" lay-type="bar3" id="utilbar3" style="margin:5px;border-radius:5px;background-color:#393D49"><svg t="1647875338188" class="icon" viewBox="0 0 1172 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="1774" width="50" height="50"><path d="M707.89250544 600.65264245a26.45593023 26.45593023 0 0 0 25.84540863-46.13507253 336.21417507 336.21417507 0 0 0-58.39637836-25.73348018 178.79121307 178.79121307 0 0 0 71.92960428-143.3300908c0-98.70097114-80.27339842-178.94384377-178.94384318-178.94384375S389.38345303 286.75302781 389.38345303 385.42347316a178.79121307 178.79121307 0 0 0 71.89907909 143.30974029c-3.41892034 1.13963991-6.81748956 2.3098062-10.17535833 3.56137518A339.6127443 339.6127443 0 0 0 235.6032695 785.11152989a26.45593023 26.45593023 0 1 0 51.89432544 10.17535834 286.27351812 286.27351812 0 0 1 420.3949105-194.63424578z m-265.57684082-215.22916929a126.03198271 126.03198271 0 1 1 126.0116322 126.03198213 126.17443755 126.17443755 0 0 1-126.03198273-126.03198213z" fill="#ffffff" p-id="1775"></path><path d="M593.73516506 678.16851902h314.08277174a26.45593023 26.45593023 0 0 0 20.76790533-42.84843237l-45.51437568-57.65357719a26.46712349 26.46712349 0 0 0-41.53581065 32.81552891l11.69148585 14.80514598h-259.47162547a26.45593023 26.45593023 0 0 0 0 52.91186046zM907.8179368 706.43566291H593.73516506a26.45593023 26.45593023 0 0 0-20.76790532 42.84843236l45.51437568 57.66375306a26.45593023 26.45593023 0 0 0 41.52563599-32.78500311l-11.67113594-14.81532126h259.47162606a26.45593023 26.45593023 0 0 0 0-52.91186105z" fill="#ffffff" p-id="1776"></path></svg></li>'
    //, bar4: '<li class="layui-icon" lay-type="bar4" id="utilbar4" style="margin:5px;border-radius:5px;background-color:#393D49;position: relative;"><span id="task_count"></span>' + '<svg t="1639964967826" class="icon" style="position:relative;top:5px" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="992" width="38" height="38"><path d="M676.571234 68.218561A282.083751 282.083751 0 0 1 955.07351 352.860508v127.227617a281.913204 281.913204 0 0 1-278.502276 284.4714h-17.05464a91.753965 91.753965 0 0 0-75.552057 39.737312L503.125542 920.950576l-80.838995-116.824286a91.753965 91.753965 0 0 0-75.552056-39.737312A281.913204 281.913204 0 0 1 68.232215 480.088125v-127.227617A282.083751 282.083751 0 0 1 346.734491 68.218561h329.836743m0-68.218561H346.734491A349.790673 349.790673 0 0 0 0.013653 352.860508v127.227617a349.790673 349.790673 0 0 0 346.720838 352.689961 23.535404 23.535404 0 0 1 19.44229 10.403331l117.506471 170.546403a23.535404 23.535404 0 0 0 38.88458 0l117.506472-170.546403a23.535404 23.535404 0 0 1 19.44229-10.403331h17.05464A349.790673 349.790673 0 0 0 1023.292072 480.088125v-127.227617A349.790673 349.790673 0 0 0 676.571234 0z" p-id="993" fill="#ffffff"></path><path d="M324.051819 426.366008m-34.109281 0a34.109281 34.109281 0 1 0 68.218562 0 34.109281 34.109281 0 1 0-68.218562 0Z" p-id="994" fill="#ffffff"></path><path d="M511.652862 426.366008m-34.10928 0a34.109281 34.109281 0 1 0 68.218561 0 34.109281 34.109281 0 1 0-68.218561 0Z" p-id="995" fill="#ffffff"></path><path d="M699.253906 426.366008m-34.109281 0a34.109281 34.109281 0 1 0 68.218561 0 34.109281 34.109281 0 1 0-68.218561 0Z" p-id="996" fill="#ffffff"></path></svg></li>'
    , bar5: '<li class="layui-icon" lay-type="bar5" id="utilbar5" style="margin:5px;border-radius:5px;background-color:#303336"><svg t="1647875401252" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="1942" width="50" height="50"><path d="M249.96536215 397.47441607l45.57982028-43.23113243 27.3631682 25.93740645-45.58618529 43.23113244 27.34407317 25.93740648 45.59891531-43.23113246 27.35680318 25.93740647-45.59891533 43.23113245 9.43294144 22.5066673 142.13062243-142.13062241-96.8563225-105.15629256c-14.86865804-14.10485711-44.63143414-9.55387658-59.49372717 4.55098052L236.05782028 341.5132682c-14.88138805 14.10485711-10.07580722 33.67089085 4.79285082 47.77574796l9.11469105 8.18539991zM240.84430608 754.20763881c-3.35435906 9.55387658 5.76033198 18.19755708 15.83613921 15.0150532l166.52133198-52.77864401-127.65659484-121.03698683-54.70087635 158.80057762zM782.1500227 376.99818625c13.92027189-13.194661 13.92027189-33.67089085 0-45.5034402L702.49195107 255.96756442c-13.91390689-13.194661-35.50401308-13.194661-47.99215821 0l-58.06796544 55.05731679L724.08842227 432.05550302l58.06160043-55.05731677z m-203.94757738-48.68594407l-264.41515075 250.71765414 127.65659485 121.0306218 264.40878572-250.71128911-127.65022982-121.03698683zM787.91035468 630.89834423L669.38118091 518.51140289 523.50156896 656.8357507l27.34407317 25.93740645 45.57982028-43.23113244 27.3695332 25.93740646L578.1960803 708.71056362l27.34407316 25.93740646 45.59891532-43.23113245 27.35680319 25.93740648-45.59891533 43.23113243 9.12105609 8.64368048c14.88138805 14.10485711 35.50401308 18.20392208 50.3854011 4.09906497L783.59487945 686.86585711c14.39128245-14.56313767 19.19686327-41.86265578 4.31547523-55.96751288z" p-id="1943" fill="#ffffff"></path></svg></li>'
    , bar6: '<li class="layui-icon" lay-type="bar6" id="utilbar6" style="margin:5px;border-radius:5px;background-color:#393D49"><svg t="1647875659686" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="1299" width="50" height="50"><path d="M786.42024611 813.85095131h-286.75840376a27.16658563 27.16658563 0 0 1 0-54.33317124h286.75840376a27.16658563 27.16658563 0 1 1 0 54.33317124zM738.58441662 340.5637522L340.99388982 738.15427899l-66.49021829 11.39487342L285.61178654 682.54578748l397.47733267-397.47733267 55.49529741 55.4952974m68.30132399-8.53483566L691.60131603 216.76713079a12.07403806 12.07403806 0 0 0-17.06967132 0L240.71145752 650.60995684a25.74033988 25.74033988 0 0 0-7.1689601 14.00588414l-19.58258046 117.89543531a24.1480761 24.1480761 0 0 0 27.92121298 27.75519498l117.25400205-20.08818082a25.80825632 25.80825632 0 0 0 13.87005121-7.18405264l433.91074251-433.9107425a12.07403806 12.07403806 0 0 0 0-17.07721758z" p-id="1300" fill="#ffffff"></path></svg></li>'
    //, bar7: '<li class="layui-icon" lay-type="bar7" id="utilbar7" style="margin:5px;border-radius:5px;background-color:#303336">' + '<svg t="1582980601305" class="icon" style="position:relative;top:5px" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="20696" width="40" height="40"><path d="M536.508695 515.037173 533.082666 506.909052 528.910647 510.318708Z" p-id="20697" fill="#ffffff"></path><path d="M431.339424 549.69553 194.782753 549.69553c-21.871123 0-39.666418 17.796318-39.666418 39.667441l0 236.553601c0 21.87317 17.795295 39.667441 39.666418 39.667441l236.556671 0c21.871123 0 39.665395-17.794271 39.665395-39.667441L471.004819 589.362972C471.004819 567.491849 453.210547 549.69553 431.339424 549.69553zM430.205601 824.780703 195.9176 824.780703 195.9176 590.497818l234.288001 0L430.205601 824.780703z" p-id="20698" fill="#ffffff"></path><path d="M192.211185 508.24242l236.557694 0c21.871123 0 39.665395-17.794271 39.665395-39.664372l0-236.557694c0-21.871123-17.794271-39.664372-39.665395-39.664372L192.211185 192.355983c-21.871123 0-39.664372 17.793248-39.664372 39.664372l0 236.557694C152.547837 490.448148 170.340061 508.24242 192.211185 508.24242zM193.349101 233.155201l234.284931 0 0 234.285954L193.349101 467.441155 193.349101 233.155201z" p-id="20699" fill="#ffffff"></path><path d="M813.097104 547.127032 576.541457 547.127032c-21.862937 0-39.646975 17.794271-39.646975 39.665395l0 236.555647c0 21.871123 17.784038 39.665395 39.646975 39.665395l236.555647 0c21.881356 0 39.683814-17.794271 39.683814-39.665395L852.780919 586.792427C852.780919 564.921303 834.978461 547.127032 813.097104 547.127032zM811.980677 822.213227 577.69677 822.213227 577.69677 587.927273l234.283908 0L811.980677 822.213227z" p-id="20700" fill="#ffffff"></path><path d="M859.52553 314.327942 720.943264 175.745676c-7.087419-7.064906-16.504906-10.956539-26.51591-10.956539-10.008958 0-19.422352 3.891633-26.5374 10.981099L529.377274 314.303382c-7.110955 7.089465-11.026124 16.522302-11.026124 26.561959s3.91517 19.473517 11.000542 26.536376l138.539286 138.559752c7.080256 7.080256 16.501836 10.980076 26.529213 10.980076 10.016121 0 19.436678-3.891633 26.547633-10.980076L859.550089 367.380228C874.147552 352.73774 874.136296 328.939731 859.52553 314.327942zM694.429401 471.41363 563.900555 340.865341 694.429401 210.318076l130.547265 130.547265L694.429401 471.41363z" p-id="20701" fill="#ffffff"></path></svg></li>'
    , css: { right: 17, top: 261 }
    , bgcolor: '#393D49'
    , click: function (type) {
        if (type === 'bar1') {
            if (modelprojectinfoaddlayerindex != null) {
                layer.setTop(modelprojectinfoaddlayerindex);
            }
            else {
                if (modelprojectinfoviewlayerindex != null
                    || modelprojectinfoeditlayerindex != null
                    || modeltaskinfoviewlayerindex != null
                    || modeltaskinfoaddlayerindex != null
                    || modeltaskinfoeditlayerindex != null
                    || modelprojectauthlayerindex != null
                    || newmodeltaskinfolayerindex != null
                    || modelheaderuserlayerindex != null
                    || modelheadernoticelayerindex != null
                    || modelheadersetlayerindex != null
                ) {
                    layer.confirm('是否打开新的模块?', { icon: 3, title: '提示', zIndex: layer.zIndex, success: function (layero) { layer.setTop(layero); } }, function (index) {
                        CloseAllLayer();
                        ModelProjectInfo(null, "add");
                        layer.close(index);
                    });
                }
                else {
                    ModelProjectInfo(null, "add");
                }
            }
        } else if (type === 'bar2') {
            //新建任务
            ModelTaskInfo(currentprojectid, "add");
        }
        else if (type === 'bar3') {
            //项目授权
            ModelProjectAuth();
        }
        else if (type === 'bar4') {
            //任务管理
            LoadNewModelTask();
        }
        else if (type === 'bar5') {
            //测量工具
            Measurewidget();
        }
        else if (type === 'bar6') {
            //标注
            Markwidget(currentprojectid);
        }
        else if (type === 'bar7') {
        }
    }
});


//提示
$("#utilbar1").on("mouseenter", function () {
    if (tipslayer == -1) {
        tipslayer = layer.tips('新建项目', '#utilbar1', {
            tips: [4, '#78BA32']
        });
    }
});
$("#utilbar1").on("mouseleave", function () {
    if (tipslayer != -1) {
        layer.close(tipslayer);
        tipslayer = -1;
    }
});

$("#utilbar2").on("mouseenter", function () {
    if (tipslayer == -1) {
        tipslayer = layer.tips('新建任务', '#utilbar2', {
            tips: [4, '#78BA32']
        });
    }
});
$("#utilbar2").on("mouseleave", function () {
    if (tipslayer != -1) {
        layer.close(tipslayer);
        tipslayer = -1;
    }
});

$("#utilbar3").on("mouseenter", function () {
    if (tipslayer == -1) {
        tipslayer = layer.tips('项目授权', '#utilbar3', {
            tips: [4, '#78BA32']
        });
    }
});
$("#utilbar3").on("mouseleave", function () {
    if (tipslayer != -1) {
        layer.close(tipslayer);
        tipslayer = -1;
    }
});

$("#task_count").hide();//隐藏图标
$("#utilbar4").on("mouseenter", function () {
    if (tipslayer == -1) {
        tipslayer = layer.tips('任务管理', '#utilbar4', {
            tips: [4, '#78BA32']
        });
    }
});
$("#utilbar4").on("mouseleave", function () {
    if (tipslayer != -1) {
        layer.close(tipslayer);
        tipslayer = -1;
    }
});

$("#utilbar5").on("mouseenter", function () {
    if (tipslayer == -1) {
        tipslayer = layer.tips('测量工具', '#utilbar5', {
            tips: [4, '#78BA32']
        });
    }
});
$("#utilbar5").on("mouseleave", function () {
    if (tipslayer != -1) {
        layer.close(tipslayer);
        tipslayer = -1;
    }
});

$("#utilbar6").on("mouseenter", function () {
    if (tipslayer == -1) {
        tipslayer = layer.tips('标绘工具', '#utilbar6', {
            tips: [4, '#78BA32']
        });
    }
});
$("#utilbar6").on("mouseleave", function () {
    if (tipslayer != -1) {
        layer.close(tipslayer);
        tipslayer = -1;
    }
});
