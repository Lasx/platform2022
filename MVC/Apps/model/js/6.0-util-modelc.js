//工具栏
util.fixbar({
    bar1: '<li class="layui-icon" lay-type="bar1" id="utilbar1" style="margin:5px;border-radius:10px;background-color:#303336"><svg t="1641363628257" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="994" width="50" height="50"><path d="M792.62611819 350.06967735L523.58714294 194.80196189c-7.1695447-4.12791968-16.00474119-4.12791968-23.17428588 0L242.81618547 343.18981122c-7.24196434 4.05550003-11.6595626 11.73198223-11.73198222 19.9878216l-0.07241965 297.3550558c0 8.25583935 4.41759825 15.93232155 11.58714294 20.06024121L512 835.71580601v0.07241965c14.48392868-8.25583935 23.17428589-23.53638411 23.17428589-40.04806282l-0.07241966-269.83559131 234.42238571-135.64199209c14.26666975-8.32825899 23.10186624-23.60880375 23.10186625-40.19290209zM277.36035538 647.20747424V403.66021348l211.46535873 122.17193841v243.11274291L277.36035538 647.20747424z m234.49480533-161.4958048L300.82431985 363.46731137 512 241.65747118 723.17568015 363.53973103 511.85516071 485.71166944z" p-id="995" fill="#ffffff"></path><path d="M813.26571656 627.87142945H720.568573V535.17428589c0-12.81827689-10.35600901-23.17428589-23.17428589-23.17428589s-23.17428589 10.35600901-23.17428589 23.17428589v92.69714356H581.52285766c-12.81827689 0-23.17428589 10.35600901-23.17428588 23.17428588s10.35600901 23.17428589 23.17428588 23.17428589h92.69714356v92.69714355c0 12.81827689 10.35600901 23.17428589 23.17428589 23.1742859s23.17428589-10.35600901 23.17428589-23.1742859V674.22000122h92.69714356c12.81827689 0 23.17428589-10.35600901 23.17428588-23.17428589s-10.35600901-23.17428589-23.17428588-23.17428588z" p-id="996" fill="#ffffff"></path></svg></li>'
    , bar2: '<li class="layui-icon" lay-type="bar2" id="utilbar2" style="margin:5px;border-radius:5px;background-color:#303336"><svg t="1647444487133" class="icon" viewBox="0 0 1066 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="1232" width="50" height="50"><path d="M747.82153321 352.25192237l-245.02944971-142.84629822-246.51260328 143.83506822 244.93675184 142.81539894 246.60530115-143.77326965z m22.9579923 185.14709497a171.82960487 171.82960487 0 0 0-43.47496032-5.56182863c-92.44995141 0-167.38014198 72.98355127-167.38014197 162.99247767 0 32.44400025 9.73320007 62.66326905 26.48048377 88.06228637l-61.39640761 35.7810974v-283.40606712l245.77102613-143.37158179v145.5036161z m-291.59431433 281.27403281v-281.55212424L233.29058862 393.74934411v281.64482069l245.86372328 143.27888537z" p-id="1233" fill="#ffffff"></path><path d="M841.50744605 694.86056495a123.84338379 123.84338379 0 1 1-247.65586829 0 123.84338379 123.84338379 0 0 1 247.65586829 0z m-196.14715576 0c0 7.60116577 6.17980933 13.75007653 13.78097582 13.75007653h44.8036189v44.80361962a13.75007653 13.75007653 0 1 0 27.50015306 0v-44.80361962h44.80361892a13.75007653 13.75007653 0 1 0 0-27.50015235h-44.80361892v-44.80361962a13.75007653 13.75007653 0 0 0-27.50015306 0v44.80361962h-44.8036189c-7.60116577 0-13.78097511 6.17980933-13.78097582 13.75007582z" p-id="1234" fill="#ffffff"></path></svg></li>'
    , bar3: '<li class="layui-icon" lay-type="bar3" id="utilbar3" style="margin:5px;border-radius:5px;background-color:#393D49"><svg t="1647445320254" class="icon" viewBox="0 0 1172 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="1263" width="50" height="50"><path d="M679.448061 600.65264245a26.45593023 26.45593023 0 0 0 25.84540863-46.13507253 336.21417507 336.21417507 0 0 0-58.39637836-25.73348018 178.79121307 178.79121307 0 0 0 71.92960428-143.3300908c0-98.70097114-80.27339842-178.94384377-178.94384318-178.94384375S360.93900859 286.75302781 360.93900859 385.42347316a178.79121307 178.79121307 0 0 0 71.89907909 143.30974029c-3.41892034 1.13963991-6.81748956 2.3098062-10.17535833 3.56137518A339.6127443 339.6127443 0 0 0 207.15882506 785.11152989a26.45593023 26.45593023 0 1 0 51.89432544 10.17535834 286.27351812 286.27351812 0 0 1 420.3949105-194.63424578z m-265.57684082-215.22916929a126.03198271 126.03198271 0 1 1 126.0116322 126.03198213 126.17443755 126.17443755 0 0 1-126.03198273-126.03198213z" fill="#ffffff" p-id="1264"></path><path d="M565.29072062 678.16851902h314.08277174a26.45593023 26.45593023 0 0 0 20.76790533-42.84843237l-45.51437568-57.65357719a26.46712349 26.46712349 0 0 0-41.53581065 32.81552891l11.69148585 14.80514598h-259.47162547a26.45593023 26.45593023 0 0 0 0 52.91186046zM879.37349236 706.43566291H565.29072062a26.45593023 26.45593023 0 0 0-20.76790532 42.84843236l45.51437568 57.66375306a26.45593023 26.45593023 0 0 0 41.52563599-32.78500311l-11.67113594-14.81532126h259.47162606a26.45593023 26.45593023 0 0 0 0-52.91186105z" fill="#ffffff" p-id="1265"></path></svg></li>'
    //, bar4: '<li class="layui-icon" lay-type="bar4" id="utilbar4" style="margin:5px;border-radius:5px;background-color:#393D49;position: relative;"><span id="task_count"></span>' + '<svg t="1639964967826" class="icon" style="position:relative;top:5px" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="992" width="38" height="38"><path d="M676.571234 68.218561A282.083751 282.083751 0 0 1 955.07351 352.860508v127.227617a281.913204 281.913204 0 0 1-278.502276 284.4714h-17.05464a91.753965 91.753965 0 0 0-75.552057 39.737312L503.125542 920.950576l-80.838995-116.824286a91.753965 91.753965 0 0 0-75.552056-39.737312A281.913204 281.913204 0 0 1 68.232215 480.088125v-127.227617A282.083751 282.083751 0 0 1 346.734491 68.218561h329.836743m0-68.218561H346.734491A349.790673 349.790673 0 0 0 0.013653 352.860508v127.227617a349.790673 349.790673 0 0 0 346.720838 352.689961 23.535404 23.535404 0 0 1 19.44229 10.403331l117.506471 170.546403a23.535404 23.535404 0 0 0 38.88458 0l117.506472-170.546403a23.535404 23.535404 0 0 1 19.44229-10.403331h17.05464A349.790673 349.790673 0 0 0 1023.292072 480.088125v-127.227617A349.790673 349.790673 0 0 0 676.571234 0z" p-id="993" fill="#ffffff"></path><path d="M324.051819 426.366008m-34.109281 0a34.109281 34.109281 0 1 0 68.218562 0 34.109281 34.109281 0 1 0-68.218562 0Z" p-id="994" fill="#ffffff"></path><path d="M511.652862 426.366008m-34.10928 0a34.109281 34.109281 0 1 0 68.218561 0 34.109281 34.109281 0 1 0-68.218561 0Z" p-id="995" fill="#ffffff"></path><path d="M699.253906 426.366008m-34.109281 0a34.109281 34.109281 0 1 0 68.218561 0 34.109281 34.109281 0 1 0-68.218561 0Z" p-id="996" fill="#ffffff"></path></svg></li>'
    , bar5: '<li class="layui-icon" lay-type="bar5" id="utilbar5" style="margin:5px;border-radius:5px;background-color:#303336"><svg t="1641392369625" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="985" width="50" height="50"><path d="M249.96536215 397.47441607l45.57982028-43.23113243 27.3631682 25.93740645-45.58618529 43.23113244 27.34407317 25.93740648 45.59891531-43.23113246 27.35680318 25.93740647-45.59891533 43.23113245 9.43294144 22.5066673 142.13062243-142.13062241-96.8563225-105.15629256c-14.86865804-14.10485711-44.63143414-9.55387658-59.49372717 4.55098052L236.05782028 341.5132682c-14.88138805 14.10485711-10.07580722 33.67089085 4.79285082 47.77574796l9.11469105 8.18539991zM240.84430608 754.20763881c-3.35435906 9.55387658 5.76033198 18.19755708 15.83613921 15.0150532l166.52133198-52.77864401-127.65659484-121.03698683-54.70087635 158.80057762zM782.1500227 376.99818625c13.92027189-13.194661 13.92027189-33.67089085 0-45.5034402L702.49195107 255.96756442c-13.91390689-13.194661-35.50401308-13.194661-47.99215821 0l-58.06796544 55.05731679L724.08842227 432.05550302l58.06160043-55.05731677z m-203.94757738-48.68594407l-264.41515075 250.71765414 127.65659485 121.0306218 264.40878572-250.71128911-127.65022982-121.03698683zM787.91035468 630.89834423L669.38118091 518.51140289 523.50156896 656.8357507l27.34407317 25.93740645 45.57982028-43.23113244 27.3695332 25.93740646L578.1960803 708.71056362l27.34407316 25.93740646 45.59891532-43.23113245 27.35680319 25.93740648-45.59891533 43.23113243 9.12105609 8.64368048c14.88138805 14.10485711 35.50401308 18.20392208 50.3854011 4.09906497L783.59487945 686.86585711c14.39128245-14.56313767 19.19686327-41.86265578 4.31547523-55.96751288z" p-id="986" fill="#ffffff"></path></svg></li>'
    , bar6: '<li class="layui-icon" lay-type="bar6" id="utilbar6" style="margin:5px;border-radius:5px;background-color:#393D49"><svg t="1643091535033" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="1085" width="50" height="50"><path d="M743.46350577 766.60030884h-241.87029341a22.9140278 22.9140278 0 0 1 0-45.8280556h241.87029341a22.9140278 22.9140278 0 1 1 0 45.8280556zM703.11572184 367.39975459L367.76256004 702.75291639l-56.08208302 9.61116166L321.04976838 655.84917449l335.25768667-335.25768667 46.80826679 46.80826678m57.60968487-7.19882374L663.48718376 262.98180293a10.18401235 10.18401235 0 0 0-14.39764748 0L283.17797244 628.91246182a21.71104134 21.71104134 0 0 0-6.04675734 11.81345433l-16.51719504 99.44051562a20.36802471 20.36802471 0 0 0 23.55052856 23.4104984l98.89948998-16.94365055a21.7683264 21.7683264 0 0 0 11.69888419-6.05948736l365.98794395-365.98794394a10.18401235 10.18401235 0 0 0 0-14.40401248z" p-id="1086" fill="#ffffff"></path></svg></li>'
    //, bar7: '<li class="layui-icon" lay-type="bar7" id="utilbar7" style="margin:5px;border-radius:5px;background-color:#303336">' + '<svg t="1582980601305" class="icon" style="position:relative;top:5px" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="20696" width="40" height="40"><path d="M536.508695 515.037173 533.082666 506.909052 528.910647 510.318708Z" p-id="20697" fill="#ffffff"></path><path d="M431.339424 549.69553 194.782753 549.69553c-21.871123 0-39.666418 17.796318-39.666418 39.667441l0 236.553601c0 21.87317 17.795295 39.667441 39.666418 39.667441l236.556671 0c21.871123 0 39.665395-17.794271 39.665395-39.667441L471.004819 589.362972C471.004819 567.491849 453.210547 549.69553 431.339424 549.69553zM430.205601 824.780703 195.9176 824.780703 195.9176 590.497818l234.288001 0L430.205601 824.780703z" p-id="20698" fill="#ffffff"></path><path d="M192.211185 508.24242l236.557694 0c21.871123 0 39.665395-17.794271 39.665395-39.664372l0-236.557694c0-21.871123-17.794271-39.664372-39.665395-39.664372L192.211185 192.355983c-21.871123 0-39.664372 17.793248-39.664372 39.664372l0 236.557694C152.547837 490.448148 170.340061 508.24242 192.211185 508.24242zM193.349101 233.155201l234.284931 0 0 234.285954L193.349101 467.441155 193.349101 233.155201z" p-id="20699" fill="#ffffff"></path><path d="M813.097104 547.127032 576.541457 547.127032c-21.862937 0-39.646975 17.794271-39.646975 39.665395l0 236.555647c0 21.871123 17.784038 39.665395 39.646975 39.665395l236.555647 0c21.881356 0 39.683814-17.794271 39.683814-39.665395L852.780919 586.792427C852.780919 564.921303 834.978461 547.127032 813.097104 547.127032zM811.980677 822.213227 577.69677 822.213227 577.69677 587.927273l234.283908 0L811.980677 822.213227z" p-id="20700" fill="#ffffff"></path><path d="M859.52553 314.327942 720.943264 175.745676c-7.087419-7.064906-16.504906-10.956539-26.51591-10.956539-10.008958 0-19.422352 3.891633-26.5374 10.981099L529.377274 314.303382c-7.110955 7.089465-11.026124 16.522302-11.026124 26.561959s3.91517 19.473517 11.000542 26.536376l138.539286 138.559752c7.080256 7.080256 16.501836 10.980076 26.529213 10.980076 10.016121 0 19.436678-3.891633 26.547633-10.980076L859.550089 367.380228C874.147552 352.73774 874.136296 328.939731 859.52553 314.327942zM694.429401 471.41363 563.900555 340.865341 694.429401 210.318076l130.547265 130.547265L694.429401 471.41363z" p-id="20701" fill="#ffffff"></path></svg></li>'
    , css: { right: 17, top: 261 }
    , bgcolor: '#393D49'
    , click: function (type) {
        if (type === 'bar1') {
            if (modelprojectinfoaddlayerindex != null) {
                layer.setTop(modelprojectinfoaddlayerindex);
            }
            else {
                if (modelprojectinfoviewlayerindex != null
                    || modelprojectinfoeditlayerindex != null
                    || modeltaskinfoviewlayerindex != null
                    || modeltaskinfoaddlayerindex != null
                    || modeltaskinfoeditlayerindex != null
                    || modelprojectauthlayerindex != null
                    || newmodeltaskinfolayerindex != null
                ) {
                    layer.confirm('是否打开新的模块?', { icon: 3, title: '提示', zIndex: layer.zIndex, success: function (layero) { layer.setTop(layero); } }, function (index) {
                        CloseAllLayer();
                        ModelProjectInfo(null, "add");
                        layer.close(index);
                    });

                }
                else {
                    //无弹出图层
                    ModelProjectInfo(null, "add");
                }
            }
        } else if (type === 'bar2') {
            //新建任务
            ModelTaskInfo(currentprojectid, "add");
        }
        else if (type === 'bar3') {
            //项目授权
            ModelProjectAuth();
        }
        else if (type === 'bar4') {
            //任务管理
            LoadNewModelTask();
        }
        else if (type === 'bar5') {
            //测量工具
            Measurewidget();
        }
        else if (type === 'bar6') {
            //标注
            Markwidget(currentprojectid);
        }
        else if (type === 'bar7') {
        }
    }
});


//提示
$("#utilbar1").on("mouseenter", function () {
    if (tipslayer == -1) {
        tipslayer = layer.tips('新建项目', '#utilbar1', {
            tips: [4, '#78BA32']
        });
    }
});
$("#utilbar1").on("mouseleave", function () {
    if (tipslayer != -1) {
        layer.close(tipslayer);
        tipslayer = -1;
    }
});

$("#utilbar2").on("mouseenter", function () {
    if (tipslayer == -1) {
        tipslayer = layer.tips('新建任务', '#utilbar2', {
            tips: [4, '#78BA32']
        });
    }
});
$("#utilbar2").on("mouseleave", function () {
    if (tipslayer != -1) {
        layer.close(tipslayer);
        tipslayer = -1;
    }
});


$("#utilbar3").on("mouseenter", function () {
    if (tipslayer == -1) {
        tipslayer = layer.tips('项目授权', '#utilbar3', {
            tips: [4, '#78BA32']
        });
    }
});
$("#utilbar3").on("mouseleave", function () {
    if (tipslayer != -1) {
        layer.close(tipslayer);
        tipslayer = -1;
    }
});

$("#task_count").hide();//隐藏图标
$("#utilbar4").on("mouseenter", function () {
    if (tipslayer == -1) {
        tipslayer = layer.tips('任务管理', '#utilbar4', {
            tips: [4, '#78BA32']
        });
    }
});
$("#utilbar4").on("mouseleave", function () {
    if (tipslayer != -1) {
        layer.close(tipslayer);
        tipslayer = -1;
    }
});

$("#utilbar5").on("mouseenter", function () {
    if (tipslayer == -1) {
        tipslayer = layer.tips('测量工具', '#utilbar5', {
            tips: [4, '#78BA32']
        });
    }
});
$("#utilbar5").on("mouseleave", function () {
    if (tipslayer != -1) {
        layer.close(tipslayer);
        tipslayer = -1;
    }
});

$("#utilbar6").on("mouseenter", function () {
    if (tipslayer == -1) {
        tipslayer = layer.tips('标绘工具', '#utilbar6', {
            tips: [4, '#78BA32']
        });
    }
});
$("#utilbar6").on("mouseleave", function () {
    if (tipslayer != -1) {
        layer.close(tipslayer);
        tipslayer = -1;
    }
});
